<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>BCU COMMAND CENTER | ELON PROJECT</title>
    <link rel="icon" type="image/png" href="assets/img/favicon.png">
    
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/admin-style.css"> 
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    
    <style>
        /* –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç—É–º–±–ª–µ—Ä–∞ (–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç—É—Ç, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã) */
        .switch { position: relative; display: inline-block; width: 50px; height: 24px; vertical-align: middle; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #ff3333; }
        input:checked + .slider:before { transform: translateX(26px); }
    </style>
</head>
<body>

    <div id="gatekeeper" class="gatekeeper-overlay">
        <div class="gate-box">
            <div class="loader-ring"></div>
            <h2>VERIFYING BIOMETRICS...</h2>
            <p id="gate-msg">–°–∏—Å—Ç–µ–º–∞ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –¥–æ–ø—É—Å–∫–∞</p>
            <a href="/auth/steam" id="admin-login-btn" class="steam-btn hidden">üõ°Ô∏è –í–û–ô–¢–ò –ß–ï–†–ï–ó STEAM</a>
        </div>
    </div>

    <div class="admin-wrapper hidden" id="dashboard-wrapper">
        
        <aside class="sidebar">
            <div class="admin-logo">BCU <span>ADMIN</span></div>
            
            <div class="admin-profile-card">
                <img id="adm-avatar" src="assets/img/default_avatar.png" alt="Adm">
                <div class="adm-info">
                    <div id="adm-name" class="adm-name">Loading...</div>
                    <div id="adm-role" class="role-badge">CHECKING</div>
                </div>
            </div>

            <nav>
                <a href="#section-stats" class="menu-link active">üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</a>
                <a href="#section-content" class="menu-link">üì∞ –ö–æ–Ω—Ç–µ–Ω—Ç</a>
                <a href="#section-visuals" class="menu-link">üëÅÔ∏è –í–∏–∑—É–∞–ª</a>
                <a href="#section-system" class="menu-link">‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞</a>
            </nav>

            <button class="logout-btn" onclick="location.href='/logout'">–í–´–ô–¢–ò</button>
        </aside>

        <main class="main-content">
            
            <section id="section-stats">
                <h2 class="section-title">REAL-TIME STATISTICS</h2>
                <div class="stats-grid">
                    <div class="stat-card" style="border-color: #00ff41;">
                        <h3><span class="live-dot"></span>Website Visitors</h3>
                        <div class="stat-value" id="liveVisitors">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>SERVER #1 [PvE]</h3>
                        <div class="stat-value"><span id="server1Online">--</span> <span style="font-size: 1rem; color: #666;">/ 64</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>SERVER #2 [PvP]</h3>
                        <div class="stat-value"><span id="server2Online">--</span> <span style="font-size: 1rem; color: #666;">/ 64</span></div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="trafficChart"></canvas>
                </div>
            </section>

            <section id="section-content">
                <h2 class="section-title">CONTENT MANAGEMENT</h2>
                
                <div class="stat-card" style="margin-bottom: 30px;">
                    <h3>üì¢ –ë–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞</h3>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <input type="text" id="tickerInput" class="admin-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏—è..." style="margin:0;">
                        <button class="admin-btn btn-primary" onclick="updateTicker()">–û–ë–ù–û–í–ò–¢–¨</button>
                    </div>
                </div>

                <div class="stats-grid" style="grid-template-columns: 2fr 1fr;">
                    <div class="stat-card">
                        <h3>üìù –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</h3>
                        <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 15px;">
                            <input type="text" id="newsTitle" class="admin-input" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏">
                            <div style="display: flex; gap: 10px;">
                                <input type="date" id="newsDate" class="admin-input">
                                <select id="newsCategory" class="admin-input">
                                    <option value="update">UPDATE (–ó–µ–ª–µ–Ω—ã–π)</option>
                                    <option value="event">EVENT (–ö—Ä–∞—Å–Ω—ã–π)</option>
                                    <option value="info">INFO (–°–∏–Ω–∏–π)</option>
                                </select>
                            </div>
                            <input type="text" id="newsImage" class="admin-input" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É (URL)...">
                            <textarea id="newsText" class="admin-input" rows="5" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏..."></textarea>
                            <button class="admin-btn btn-success" onclick="addNews()">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨</button>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3>üóëÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏</h3>
                        <div id="adminNewsList" style="margin-top: 15px; height: 380px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px;">
                            </div>
                    </div>
                </div>
            </section>

            <section id="section-visuals">
                <h2 class="section-title">VISUALS & UPLINK</h2>
                <div class="stats-grid" style="grid-template-columns: 1fr 1fr;">
                    
                    <div class="stat-card">
                        <h3>üé® –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ —Å–∞–π—Ç–∞</h3>
                        <p style="color: #666; font-size: 0.8rem; margin-bottom: 15px;">–ò–∑–º–µ–Ω—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å —É –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤.</p>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <button onclick="setAtmosphere('default')" class="admin-btn" style="background:#222; color:#fff; border:1px solid #444;">DEFAULT</button>
                            <button onclick="setAtmosphere('red-alert')" class="admin-btn btn-danger">RED ALERT</button>
                            <button onclick="setAtmosphere('toxic')" class="admin-btn" style="background:rgba(0,255,0,0.1); border:1px solid #00ff41; color:#00ff41;">TOXIC</button>
                            <button onclick="setAtmosphere('glitch')" class="admin-btn btn-neon">GLITCH</button>
                        </div>
                        <p style="margin-top: 15px; font-size: 0.9rem; color: #888;">–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: <b id="currentAtmosphere" style="color:#fff">---</b></p>
                    </div>

                    <div class="stat-card">
                        <h3>üì° Discord Webhook</h3>
                        <p style="color: #666; font-size: 0.8rem; margin-bottom: 15px;">–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–∞–Ω–∞–ª Discord.</p>
                        <input type="password" id="discordWebhook" class="admin-input" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ Webhook URL...">
                        <input type="text" id="discordMsg" class="admin-input" placeholder="–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è...">
                        <div style="display: flex; gap: 10px;">
                            <button onclick="sendToDiscord('info')" class="admin-btn" style="flex:1; background: #5865F2; color: #fff;">INFO</button>
                            <button onclick="sendToDiscord('alert')" class="admin-btn" style="flex:1; background: #ff3333; color: #fff;">ALERT</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="section-system">
                <h2 class="section-title" style="color: #ff3333; border-color: #ff3333;">DANGER ZONE</h2>
                <div class="stats-grid">
                    <div class="stat-card" style="border: 1px solid #ff3333; background: rgba(255,0,0,0.05);">
                        <h3 style="color: #ff3333;">üîí –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã</h3>
                        <p style="color: #888; font-size: 0.8rem; margin-bottom: 20px;">–ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤.</p>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <label class="switch">
                                <input type="checkbox" id="maintenanceToggle" onchange="toggleMaintenance()">
                                <span class="slider round"></span>
                            </label>
                            <span id="maintenanceStatus" style="font-weight: bold; font-family: 'Orbitron';">OFFLINE</span>
                        </div>
                    </div>
                    <div class="stat-card" style="border: 1px solid #ffcc00; background: rgba(255,200,0,0.05);">
                        <h3 style="color: #ffcc00;">üöÄ –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</h3>
                        <p style="color: #888; font-size: 0.8rem; margin-bottom: 15px;">–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —É –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤.</p>
                        <input type="text" id="alertText" class="admin-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç...">
                        <button onclick="sendGlobalAlert()" class="admin-btn" style="width: 100%; background: #ffcc00;">–û–¢–ü–†–ê–í–ò–¢–¨ –í–°–ï–ú</button>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script src="assets/js/admin-core.js"></script>
</body>
</html>